'use client'

import { type FC, useMemo } from 'react'
import { techTextToNodes } from '@/shared/lib/tech-text'
import { Accordion, AccordionContent, AccordionItem, AccordionTrigger, H3, P } from '@/shared/ui'

const generalizedFaqData = [
    {
        question: 'Как записаться на занятия?',
        answer: 'Запись на консультацию и занятия осуществляется через кнопку на главной странице сайта: она ведёт в Telegram, где мы сможем обсудить детали. Укажите, пожалуйста, область обучения (например, основы программирования, веб-разработка, Python), текущий уровень, желаемый результат и сколько времени вы готовы уделять занятиям. После согласования времени и условий я пришлю подтверждение и реквизиты для оплаты. Из-за нагрузки ответ может занять до 30 часов, но я постараюсь ответить всем.',
    },
    {
        question: 'В каком формате проходят занятия?',
        answer: 'Занятия проводятся онлайн по видеосвязи. Мы можем использовать Google Meet, Zoom или видеозвонок в Telegram — выберите тот вариант, который вам удобнее. Продолжительность одного занятия обычно составляет 60–90 минут в зависимости от договорённости и объёма материала. Конкретную длительность и расписание можно скорректировать под ваши задачи и доступность.',
    },
    {
        question: 'Нужно ли приобретать материалы или учебники?',
        answer: 'Все необходимые учебные материалы предоставляются мной бесплатно. Я опираюсь на открытую документацию, проверенные источники и собственные наработки. Дополнительно покупать книги или курсы не требуется. Если вы захотите углубить тему по какой-то литературе — могу порекомендовать конкретные издания или ресурсы.',
    },
    {
        question: 'Можно ли заниматься с нуля?',
        answer: 'Да. Я работаю с учениками любого уровня подготовки — от тех, кто только начинает знакомиться с программированием, до тех, кто уже пишет код и хочет систематизировать знания или разобрать конкретные темы. Содержание и темп занятий подстраиваются под ваши цели и текущий уровень, чтобы материал был понятным и полезным.',
    },
    {
        question: 'Сколько времени нужно, чтобы научиться программировать?',
        answer: 'Срок зависит от ваших целей, выбранного направления и регулярности занятий. Получить базовое понимание и начать писать простые программы обычно можно за несколько месяцев при стабильном графике. Для более глубокого погружения в отдельные технологии или темы потребуется больше времени. Я не даю гарантий по срокам выхода на тот или иной уровень: результат складывается из практики, самостоятельной работы и вашего темпа. Со своей стороны я объясняю материал и даю структурированную практику.',
    },
    {
        question: 'Как устроено занятие?',
        answer: 'В занятие входит теоретическая часть по теме, разбор примеров и практическая работа: мы разбираем ваши задачи, текущий проект или упражнения. Теория даётся в объёме, необходимом для понимания и применения. После занятия я оставляю материалы для повторения и, при необходимости, задания для самостоятельной работы, чтобы закрепить пройденное.',
    },
    {
        question: 'Что делать, если пришлось пропустить занятие?',
        answer: 'Если вы предупреждаете не менее чем за 24 часа до начала занятия, мы можем перенести его на другое согласованное время. При пропуске без предупреждения занятие считается проведённым. Для переноса просьба сообщать заранее, по возможности не менее чем за 3 дня.',
    },
    {
        question: 'Готовите ли вы к собеседованиям и трудоустройству?',
        answer: 'Нет. Я не готовлю к собеседованиям и не даю гарантий трудоустройства. Моя задача — помогать научиться писать и понимать код, разбирать чужой код и доводить идеи до работающих решений. Подготовка резюме, поиск работы и карьерное консультирование не входят в услуги.',
    },
] as const

const GeneralizedQuestionsWidget: FC = () => {
    const accordions = useMemo(
        () =>
            generalizedFaqData.map((item) => (
                <AccordionItem key={item.question} value={item.question}>
                    <AccordionTrigger className='hover:underline'>{item.question}</AccordionTrigger>
                    <AccordionContent>
                        <P>{techTextToNodes(item.answer)}</P>
                    </AccordionContent>
                </AccordionItem>
            )),
        [],
    )

    return (
        <section className='w-full max-w-6xl p-6 lg:p-7'>
            <div className='flex flex-col gap-4 lg:gap-5'>
                <H3>Часто задаваемые вопросы</H3>
                <P>
                    {techTextToNodes(
                        'Ниже — ответы на частые вопросы об организации занятий, формате работы и условиях. Если вы не нашли ответ на свой вопрос, напишите мне в Telegram — мы разберём его отдельно.',
                    )}
                </P>
                <Accordion type='single' className='w-full'>
                    {accordions}
                </Accordion>
            </div>
        </section>
    )
}

GeneralizedQuestionsWidget.displayName = 'GeneralizedQuestionsWidget'

export { GeneralizedQuestionsWidget }
